<app-header></app-header>
<form [formGroup]="userDetailsForm">
    <div class="row">
        <div class="col-md-3 mx-auto text-center">
            <h2 class="product-header">Thông tin người dùng</h2>
            <div class="form-group">
                <label class="form-label" for="full-name">Họ và tên</label>
                <input type="text" name="fullName" class="form-control" required id="full-name"
                    formControlName="fullName">
                <div class="divider-nospace"></div>
            </div>
            
            <div class="mt-3"></div>

            <div class="form-group password-field">
                <label class="form-label" for="password">Mật khẩu</label>
                <input [type]="changedPassword ? 'text' : 'password'" name="password" required class="form-control"
                    id="password" formControlName="password">
                <i class="password-toggle" (click)="togglePassword()"
                    [ngClass]="visiblePassword ? 'fa fa-eye' : 'fa fa-eye-slash'"
                    *ngIf="userDetailsForm.get('password')?.value.length > 0">
                </i>
                <div class="divider-nospace"></div>
                <div class="invalid-feedback d-block" *ngIf="f['password'].errors">
                    <div *ngIf="f['password'].errors['minlength']">Mật khẩu phải chứa ít nhất 6 ký tự</div>
                    <div *ngIf="f['password'].errors['pattern']">Mật khẩu phải bao gồm chữ cái và số</div>
                </div>
            </div>

            <div class="mt-3"></div>

            <div class="form-group password-field">
                <label class="form-label" for="retype-password">Gõ lại mật khẩu</label>
                <input [type]="changedRetypePassword ? 'text' : 'password'" name="retypePassword" required
                    class="form-control" id="retype-password" formControlName="retypePassword">
                <i class="password-toggle" (click)="toggleRetypePassword()"
                    [ngClass]="visibleRetypePassword ? 'fa fa-eye' : 'fa fa-eye-slash'"
                    *ngIf="userDetailsForm.get('retypePassword')?.value.length > 0">
                </i>
                <div class="divider-nospace"></div>
                <div class="invalid-feedback d-block" *ngIf="f['retypePassword'].errors">
                    <div *ngIf="f['retypePassword'].errors['checkIfMatchingPasswords']">Mật khẩu không khớp</div>
                </div>
            </div>

            <div class="mt-3"></div>

            <button type="button" (click)="onSave()" class="register-button">
                Lưu thông tin người dùng
            </button>
        </div>
    </div>
</form>
<app-footer></app-footer>